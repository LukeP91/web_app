.page-header
  %h1=t '.title', default: User.model_name.human.pluralize.titleize
  %p
    =t 'admin.interest_statistic'
    = Interest.female_interests_count
%table.table.table-striped
  %thead
    %tr
      %th= User.human_attribute_name(:email)

      %th= User.human_attribute_name(:first_name)

      %th= User.human_attribute_name(:last_name)

      %th= User.human_attribute_name(:gender)

      %th= User.human_attribute_name(:age)

      %th= User.human_attribute_name(:interests)

      %th=t '.actions', default: t("helpers.actions")
  %tbody
    - @users.each do |user|
      %tr
        %td= user.email

        %td= user.first_name

        %td= user.last_name

        %td= user.gender

        %td= user.age

        %td= user.interests_list

        %td
          = link_to t('.show', default: t("helpers.links.show")),
              admin_user_path(user), class: 'btn btn-default btn-xs'

          = link_to t('.edit', defaul: t("helpers.links.edit")),
              edit_admin_user_path(user), class: 'btn btn-default btn-xs'

          - if current_user.id != user.id
            = link_to '',
              admin_user_path(user), method: :delete,
              data: { confirm: t('.confirm', default: t("helpers.links.confirm",
                      default: 'Are you sure?')) }, class: 'btn btn-xs btn-danger glyphicon glyphicon-trash'

          = link_to '',
              send_email_admin_user_path(user), class: 'btn btn-success btn-xs glyphicon glyphicon-envelope'
= link_to t('.new', default: t("helpers.links.new")), new_admin_user_path,
    class: 'btn btn-primary'

= link_to "Export to CSV", export_admin_users_path({ format: :csv }),
    class: 'btn btn-success'
